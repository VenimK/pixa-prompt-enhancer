
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PiXa Prompt Enhancer</title>
    <link rel="stylesheet" href="/static/css/styles.css?v={{ version }}">
</head>
<body>
    <div id="toast-container" class="toast-container"></div>
    <div class="page-wrapper">
        {% if not api_key_set %}
        <div class="api-key-warning">
            <strong>Warning:</strong> The <code>GOOGLE_API_KEY</code> environment variable is not set. The application's core features will not work until it is configured. Please set the variable and restart the server.
        </div>
        {% else %}
        <div class="api-key-info">
            <strong>API:</strong> {{ api_key_info.provider }} (Key: {{ api_key_info.masked_key }})
        </div>
        {% endif %}
        <div class="theme-switch-container">
        <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider round"></div>
        </label>
    </div>
    <div class="container">
        <button id="shortcuts-btn" class="shortcuts-btn" title="Show Keyboard Shortcuts">‚å®</button>
        <div id="shortcuts-overlay" class="shortcuts-overlay">
            <div class="shortcuts-content">
                <h3>Keyboard Shortcuts</h3>
                <div class="shortcut-grid">
                    <div class="shortcut">
                        <kbd>Ctrl</kbd> + <kbd>Enter</kbd>
                        <span>Enhance Prompt</span>
                    </div>
                    <div class="shortcut">
                        <kbd>Esc</kbd>
                        <span>Clear Prompt</span>
                    </div>
                    <div class="shortcut">
                        <kbd>Ctrl</kbd> + <kbd>C</kbd>
                        <span>Copy Enhanced Prompt</span>
                    </div>
                </div>
                <button class="close-shortcuts">Close</button>
            </div>
        </div>
        <div class="history-panel">
            <div class="history-header">
                <h3>Prompt History</h3>
                <button id="clear-history" class="clear-history-btn" title="Clear History">&times;</button>
            </div>
            <div id="history-list" class="history-list">
                <!-- History items will be added here dynamically -->
            </div>
        </div>
        <div class="header">
            <h1>PiXa Prompt Enhancer</h1>
        </div>
        <p>Create powerful, nuanced prompts for generative AI models.</p>
        <div class="progress-steps">
            <div class="step" data-step="1">
                <div class="step-number">1</div>
                <div class="step-label">Analyze Image (Optional)</div>
            </div>
            <div class="step" data-step="2">
                <div class="step-number">2</div>
                <div class="step-label">Enhance Prompt</div>
            </div>
        </div>
        <div class="main-content">
            <div class="card image-card">
                <h2>Step 1: Analyze Image (Optional)</h2>
                <div class="image-analysis-section">
                    <div class="drop-zone" id="drop-zone">
                        <input type="file" id="image-upload" accept="image/*" class="drop-zone-input">
                        <div class="drop-zone-content">
                            <div class="drop-zone-text">
                                <span class="drop-zone-prompt">Drop image here or click to upload</span>
                                <span class="drop-zone-hint">Supports: JPG, PNG, GIF</span>
                            </div>
                        </div>
                    </div>
                    <button id="analyze-button">Analyze Image</button>
                    <button id="clear-image-button" class="clear-image-btn" style="display: none;">Clear Image</button>
                    <div id="image-result-container" style="display: none;">
                        <img id="image-preview" src="#" alt="Image Preview"/>
                        <div id="image-description-box">
                            <p><strong>Image Analysis:</strong></p>
                            <p id="image-description-text"></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card prompt-card">
                <h2>Step 2: Enhance Your Prompt</h2>
                <div class="selector">
                    <label for="prompt-type-select">Prompt Type:</label>
                    <select id="prompt-type-select">
                        <option value="Image">Image</option>
                        <option value="VEO">Video (VEO)</option>
                        <option value="WAN2">Animation (WAN2)</option>
                    </select>
                </div>
                <div class="selector" id="model-selector-container">
                    <label for="model-select">AI Model:</label>
                    <select id="model-select">
                        <option value="default" title="Standard prompt formatting without model-specific optimizations">Default</option>
                        <optgroup label="Image Models">
                            <option value="flux" title="Optimized for photorealistic imagery with detailed technical specifications. Best for photography-style images with fine details.">Flux (Photorealistic)</option>
                            <option value="qwen" title="Balanced approach with clear subject descriptions and compositional instructions. Good for versatile, well-composed images.">Qwen (Versatile)</option>
                            <option value="nunchaku" title="Focuses on style coherence and artistic interpretations. Ideal for creative, stylized imagery with strong mood/atmosphere.">Nunchaku (Artistic)</option>
                        </optgroup>
                    </select>
                </div>
                <div class="templates-section">
                    <label for="template-select">Quick Templates:</label>
                    <select id="template-select">
                        <option value="">Choose a template...</option>
                        <optgroup label="Photography">
                            <option value="portrait">Portrait Photography</option>
                            <option value="nature">Nature Landscape</option>
                            <option value="aerial">Aerial Photography</option>
                            <option value="product">Product Photography</option>
                            <option value="food">Food Photography</option>
                            <option value="underwater">Underwater Scene</option>
                            <option value="wildlife">Wildlife Photography</option>
                            <option value="street">Street Photography</option>
                            <option value="architecture">Architecture</option>
                        </optgroup>
                        <optgroup label="Video & Animation">
                            <option value="cinematic">Cinematic Scene</option>
                            <option value="animation">Animation Style</option>
                            <option value="anime">Anime Scene</option>
                            <option value="pixar">Pixar Style</option>
                            <option value="studioghibli">Studio Ghibli</option>
                            <option value="stopmotion">Stop Motion</option>
                            <option value="claymation">Claymation</option>
                            <option value="timelapse">Timelapse</option>
                            <option value="musicvideo">Music Video</option>
                            <option value="cinemagraph">Cinemagraph</option>
                            <option value="slowmo">Slow Motion</option>
                        </optgroup>
                        <optgroup label="Creative Styles">
                            <option value="scifi">Sci-Fi Environment</option>
                            <option value="cyberpunk">Cyberpunk City</option>
                            <option value="fantasy">Fantasy World</option>
                            <option value="horror">Horror Scene</option>
                            <option value="abstract">Abstract Art</option>
                            <option value="vintage">Vintage Retro</option>
                            <option value="steampunk">Steampunk</option>
                            <option value="vaporwave">Vaporwave</option>
                        </optgroup>
                        <optgroup label="Fine Art">
                            <option value="oilpainting">Oil Painting</option>
                            <option value="watercolor">Watercolor</option>
                            <option value="pencilsketch">Pencil Sketch</option>
                            <option value="digitalart">Digital Art</option>
                        </optgroup>
                        <optgroup label="Special Effects">
                            <option value="neon">Neon Lighting</option>
                            <option value="silhouette">Silhouette</option>
                            <option value="longexposure">Long Exposure</option>
                            <option value="macro">Macro Photography</option>
                        </optgroup>
                    </select>
                </div>
                <div class="textarea-container">
                    <textarea id="prompt-input" placeholder="e.g., a cat riding a skateboard"></textarea>
                    <button id="clear-button" class="clear-btn" title="Clear text">&times;</button>
                    <div class="char-counter">
                        <span id="char-count">0</span> / 1000
                    </div>
                </div>
        <div class="selectors-container">
            <div class="selector" id="text-emphasis-container">
                <label for="text-emphasis-input">Text to Emphasize:</label>
                <div class="text-emphasis-wrapper">
                    <input type="text" id="text-emphasis-input" placeholder="e.g., PiXa Contest">
                </div>
                <div class="text-controls">
                    <button id="text-controls-toggle" class="text-controls-toggle">Show more options</button>
                    <div class="text-control-row">
                        <div class="text-control-group">
                            <label for="text-emphasis-position">Position:</label>
                            <select id="text-emphasis-position">
                                <option value="">Choose position...</option>
                                <optgroup label="Standard Positions">
                                    <option value="center">Center</option>
                                    <option value="top">Top</option>
                                    <option value="bottom">Bottom</option>
                                    <option value="left">Left Side</option>
                                    <option value="right">Right Side</option>
                                </optgroup>
                                <optgroup label="Specific Placements">
                                    <option value="plaque">On Plaque</option>
                                    <option value="sign">On Sign</option>
                                    <option value="banner">On Banner</option>
                                    <option value="screen">On Screen</option>
                                    <option value="etched">Etched/Carved</option>
                                    <option value="floating">Floating/Holographic</option>
                                    <option value="graffiti">As Graffiti</option>
                                    <option value="neon">Neon Sign</option>
                                    <option value="tattoo">As Tattoo</option>
                                    <option value="skywriting">Skywriting</option>
                                </optgroup>
                            </select>
                        </div>
                        <div class="text-control-group">
                            <label for="text-emphasis-size">Size:</label>
                            <select id="text-emphasis-size">
                                <option value="">Choose size...</option>
                                <option value="tiny">Tiny</option>
                                <option value="small">Small</option>
                                <option value="medium">Medium</option>
                                <option value="large">Large</option>
                                <option value="huge">Huge</option>
                                <option value="giant">Giant/Monumental</option>
                            </select>
                        </div>
                    </div>
                    <div class="text-control-row">
                        <div class="text-control-group">
                            <label for="text-emphasis-style">Style:</label>
                            <select id="text-emphasis-style">
                                <option value="">Choose style...</option>
                                <option value="bold">Bold</option>
                                <option value="elegant">Elegant/Serif</option>
                                <option value="modern">Modern/Sans-serif</option>
                                <option value="handwritten">Handwritten</option>
                                <option value="vintage">Vintage</option>
                                <option value="futuristic">Futuristic</option>
                                <option value="gothic">Gothic</option>
                                <option value="blocky">Blocky/3D</option>
                                <option value="minimalist">Minimalist</option>
                                <option value="ornate">Ornate/Decorative</option>
                                <option value="pixel">Pixel/8-bit</option>
                                <option value="calligraphy">Calligraphy</option>
                            </select>
                        </div>
                        <div class="text-control-group">
                            <label for="text-emphasis-color">Color:</label>
                            <select id="text-emphasis-color">
                                <option value="">Choose color...</option>
                                <option value="white">White</option>
                                <option value="black">Black</option>
                                <option value="red">Red</option>
                                <option value="blue">Blue</option>
                                <option value="green">Green</option>
                                <option value="purple">Purple</option>
                                <option value="yellow">Yellow</option>
                                <option value="orange">Orange</option>
                                <option value="pink">Pink</option>
                                <option value="teal">Teal</option>
                                <option value="gold">Gold</option>
                                <option value="silver">Silver</option>
                                <option value="copper">Copper</option>
                                <option value="neon-blue">Neon Blue</option>
                                <option value="neon-pink">Neon Pink</option>
                                <option value="neon-green">Neon Green</option>
                                <option value="glowing">Glowing</option>
                                <option value="rainbow">Rainbow</option>
                                <option value="gradient">Gradient</option>
                                <option value="contrast">High Contrast</option>
                            </select>
                        </div>
                    </div>
                    <div class="text-control-row">
                        <div class="text-control-group">
                            <label for="text-emphasis-effect">Effect:</label>
                            <select id="text-emphasis-effect">
                                <option value="">Choose effect...</option>
                                <option value="shadow">Drop Shadow</option>
                                <option value="outline">Outlined</option>
                                <option value="embossed">Embossed</option>
                                <option value="beveled">Beveled</option>
                                <option value="distressed">Distressed/Worn</option>
                                <option value="glitch">Glitch Effect</option>
                                <option value="blur">Motion Blur</option>
                                <option value="sparkle">Sparkling</option>
                                <option value="fire">Fire Effect</option>
                                <option value="ice">Ice/Frost Effect</option>
                                <option value="smoke">Smoke Effect</option>
                            </select>
                        </div>
                        <div class="text-control-group">
                            <label for="text-emphasis-material">Material:</label>
                            <select id="text-emphasis-material">
                                <option value="">Choose material...</option>
                                <option value="stone">Stone</option>
                                <option value="metal">Metal</option>
                                <option value="wood">Wood</option>
                                <option value="glass">Glass</option>
                                <option value="crystal">Crystal</option>
                                <option value="ice">Ice</option>
                                <option value="paper">Paper</option>
                                <option value="plastic">Plastic</option>
                                <option value="neon">Neon Tubes</option>
                                <option value="led">LED Display</option>
                                <option value="hologram">Holographic</option>
                                <option value="liquid">Liquid</option>
                                <option value="fire">Fire</option>
                            </select>
                        </div>
                    </div>
                    <div class="text-control-row">
                        <div class="text-control-group">
                            <label for="text-emphasis-background">Background:</label>
                            <select id="text-emphasis-background">
                                <option value="">Choose background...</option>
                                <option value="none">No Special Background</option>
                                <option value="contrasting">Contrasting Color</option>
                                <option value="halo">Halo/Glow</option>
                                <option value="spotlight">Spotlight</option>
                                <option value="shadow">Dramatic Shadow</option>
                                <option value="frame">Decorative Frame</option>
                                <option value="ribbon">Ribbon</option>
                                <option value="clouds">Clouds</option>
                                <option value="stars">Stars/Space</option>
                                <option value="blur">Blurred Background</option>
                            </select>
                        </div>
                        <div class="text-control-group">
                            <label for="text-emphasis-integration">Integration:</label>
                            <select id="text-emphasis-integration">
                                <option value="">Choose integration...</option>
                                <option value="foreground">Foreground (Stands Out)</option>
                                <option value="integrated">Integrated with Scene</option>
                                <option value="part-of">Part of Environment</option>
                                <option value="hidden">Subtly Hidden</option>
                                <option value="focal">Main Focal Point</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="selector" id="motion-effect-selector-container" style="display: none;">
                <label for="motion-effect-select">Motion Effect:</label>
                <select id="motion-effect-select">
                    <option value="Static">Static</option>
                    <optgroup label="Camera Movements">
                        <option value="Subtle Zoom In">Subtle Zoom In</option>
                        <option value="Zoom Out">Zoom Out</option>
                        <option value="Pan Left">Pan Left</option>
                        <option value="Pan Right">Pan Right</option>
                        <option value="Tilt Up">Tilt Up</option>
                        <option value="Tilt Down">Tilt Down</option>
                        <option value="Dolly In">Dolly In</option>
                        <option value="Dolly Out">Dolly Out</option>
                        <option value="Tracking Shot">Tracking Shot</option>
                    </optgroup>
                    <optgroup label="Cinematic Effects">
                        <option value="Slow Motion">Slow Motion</option>
                        <option value="Time Lapse">Time Lapse</option>
                        <option value="Dolly Zoom">Dolly Zoom</option>
                        <option value="Whip Pan">Whip Pan</option>
                        <option value="Dutch Angle">Dutch Angle</option>
                    </optgroup>
                    <optgroup label="Special Movements">
                        <option value="Orbital">Orbital</option>
                        <option value="Crane Shot">Crane Shot</option>
                        <option value="Drone Flyover">Drone Flyover</option>
                        <option value="Handheld">Handheld</option>
                        <option value="Steadicam">Steadicam</option>
                    </optgroup>
                    <optgroup label="Subject Motion">
                        <option value="Walking Forward">Walking Forward</option>
                        <option value="Running">Running</option>
                        <option value="Dancing">Dancing</option>
                        <option value="Spinning">Spinning</option>
                        <option value="Floating">Floating</option>
                    </optgroup>
                </select>
            </div>

            <div class="selector">
                <label for="style-select">Style:</label>
                <select id="style-select">
                    <option value="auto">Automatic</option>
                    <optgroup label="Photography & Film">
                        <option value="Photographic">Photographic</option>
                        <option value="Cinematic">Cinematic</option>
                        <option value="Documentary">Documentary</option>
                        <option value="Commercial">Commercial</option>
                        <option value="Vintage Film">Vintage Film</option>
                        <option value="Noir">Film Noir</option>
                        <option value="Polaroid">Polaroid</option>
                        <option value="Retro">Retro</option>
                    </optgroup>
                    <optgroup label="Art Styles">
                        <option value="Fine Art">Fine Art</option>
                        <option value="Impressionist">Impressionist</option>
                        <option value="Expressionist">Expressionist</option>
                        <option value="Cubist">Cubist</option>
                        <option value="Surreal">Surreal</option>
                        <option value="Pop Art">Pop Art</option>
                        <option value="Minimalist">Minimalist</option>
                        <option value="Abstract">Abstract</option>
                        <option value="Digital Art">Digital Art</option>
                    </optgroup>
                    <optgroup label="Genre Styles">
                        <option value="Fantasy">Fantasy</option>
                        <option value="Sci-Fi">Sci-Fi</option>
                        <option value="Cyberpunk">Cyberpunk</option>
                        <option value="Steampunk">Steampunk</option>
                        <option value="Horror">Horror</option>
                        <option value="Gothic">Gothic</option>
                        <option value="Anime">Anime</option>
                        <option value="Cartoon">Cartoon</option>
                        <option value="Comic Book">Comic Book</option>
                    </optgroup>
                    <optgroup label="Lighting & Mood">
                        <option value="Dark">Dark</option>
                        <option value="Bright">Bright</option>
                        <option value="Moody">Moody</option>
                        <option value="Ethereal">Ethereal</option>
                        <option value="Dramatic">Dramatic</option>
                    </optgroup>
                </select>
            </div>
            <div class="selector">
                <label for="cinematography-select">Cinematography:</label>
                <select id="cinematography-select">
                    <option value="auto">Automatic</option>
                    <optgroup label="Basic Shots">
                        <option value="Wide Shot">Wide Shot</option>
                        <option value="Medium Shot">Medium Shot</option>
                        <option value="Close Up">Close Up</option>
                        <option value="Extreme Close Up">Extreme Close Up</option>
                    </optgroup>
                    <optgroup label="Angle Shots">
                        <option value="Bird's Eye">Bird's Eye View</option>
                        <option value="High Angle">High Angle</option>
                        <option value="Low Angle">Low Angle</option>
                        <option value="Dutch Angle">Dutch Angle</option>
                    </optgroup>
                    <optgroup label="Movement Shots">
                        <option value="Tracking Shot">Tracking Shot</option>
                        <option value="Dolly Zoom">Dolly Zoom</option>
                        <option value="Steadicam">Steadicam</option>
                        <option value="Handheld">Handheld</option>
                        <option value="Drone Shot">Drone Shot</option>
                    </optgroup>
                    <optgroup label="Special Shots">
                        <option value="Telephoto">Telephoto</option>
                        <option value="Macro">Macro</option>
                        <option value="Split Screen">Split Screen</option>
                        <option value="Fisheye">Fisheye</option>
                        <option value="Tilt Shift">Tilt Shift</option>
                    </optgroup>
                    <option value="Time-lapse">Time-lapse</option>
                </select>
            </div>
            <div class="selector">
                <label for="lighting-select">Lighting:</label>
                <select id="lighting-select">
                    <option value="auto">Automatic</option>
                    <optgroup label="Natural Light">
                        <option value="Golden Hour">Golden Hour</option>
                        <option value="Sunrise">Sunrise</option>
                        <option value="Midday">Midday</option>
                        <option value="Sunset">Sunset</option>
                        <option value="Moonlight">Moonlight</option>
                        <option value="Natural">Natural</option>
                        <option value="Overcast">Overcast</option>
                    </optgroup>
                    <optgroup label="Studio Light">
                        <option value="Studio">Studio</option>
                        <option value="Soft">Soft</option>
                        <option value="High Key">High Key</option>
                        <option value="Low Key">Low Key</option>
                        <option value="Rembrandt">Rembrandt</option>
                        <option value="Split">Split</option>
                        <option value="Backlit">Backlit</option>
                    </optgroup>
                    <optgroup label="Atmospheric">
                        <option value="Foggy">Foggy</option>
                        <option value="Hazy">Hazy</option>
                        <option value="Smoky">Smoky</option>
                        <option value="Rainy">Rainy</option>
                        <option value="Snowy">Snowy</option>
                    </optgroup>
                    <optgroup label="Special Lighting">
                        <option value="Neon">Neon</option>
                        <option value="Neon Noir">Neon Noir</option>
                        <option value="Dramatic">Dramatic</option>
                        <option value="Cinematic">Cinematic</option>
                        <option value="Underwater">Underwater</option>
                        <option value="Fire">Fire</option>
                        <option value="Magical">Magical</option>
                        <option value="Bioluminescent">Bioluminescent</option>
                    </optgroup>
                </select>
            </div>
        </div>
        <button id="enhance-button">Enhance Prompt</button>

        <div id="result-container" style="display: none;">
            <div class="result-header">
                <h2>Enhanced Prompt</h2>
                <button id="copy-button" class="copy-btn">Copy</button>
            </div>
            <pre id="result-text"></pre>
        </div>
    </div>

    <button id="scroll-to-top-btn">&#8679;</button>

    </div> <!-- Closing page-wrapper -->
    <script src="/static/js/script.js?v={{ version }}"></script>
</body>
</html>
